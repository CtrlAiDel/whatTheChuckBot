"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HttpFetcher=void 0;const node_fetch_1=require("node-fetch"),fetch=require("node-fetch");class HttpFetcher{headerMetas={Accept:"*/*","Accept-Encoding":"gzip, deflate, br","Content-Type":"application/json",Connection:"Close"};fetchOptions={method:"GET",headers:new node_fetch_1.Headers(this.headerMetas),body:null,redirect:"follow",signal:null,follow:20,compress:!0,size:0,agent:null,highWaterMark:16384,insecureHTTPParser:!1};fetchUrl="https://";responseObj={};constructor(e,t,s,h){h&&(this.fetchOptions=h),s&&(s=new node_fetch_1.Headers(s),this.fetchOptions.headers=s),this.fetchUrl=t,this.fetchOptions.method=e.toUpperCase()}setOption(e,t){this.fetchOptions.hasOwnProperty(e)&&(this.fetchOptions[e]=t)}setHeader(e,t){this.headerMetas.hasOwnProperty(e)&&(this.headerMetas[e]=t,this.fetchOptions.headers=new node_fetch_1.Headers(this.headerMetas))}execute(){return this.responseObj=fetch(this.fetchUrl,this.fetchOptions).then(e=>e.json()),this.responseObj}}exports.HttpFetcher=HttpFetcher;